(()=>{var Wt=Object.defineProperty;var Vt=Object.getOwnPropertyDescriptor;var w=(u,o,s,c)=>{for(var h=c>1?void 0:c?Vt(o,s):o,g=u.length-1,M;g>=0;g--)(M=u[g])&&(h=(c?M(o,s,h):M(h))||h);return c&&h&&Wt(o,s,h),h};var L=(u,o,s)=>new Promise((c,h)=>{var g=_=>{try{E(s.next(_))}catch(k){h(k)}},M=_=>{try{E(s.throw(_))}catch(k){h(k)}},E=_=>_.done?c(_.value):Promise.resolve(_.value).then(g,M);E((s=s.apply(u,o)).next())});var st;(function(u){(function(o){var s=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:Function("return this;")(),c=h(u);typeof s.Reflect>"u"?s.Reflect=u:c=h(s.Reflect,c),o(c);function h(g,M){return function(E,_){typeof g[E]!="function"&&Object.defineProperty(g,E,{configurable:!0,writable:!0,value:_}),M&&M(E,_)}}})(function(o){var s=Object.prototype.hasOwnProperty,c=typeof Symbol=="function",h=c&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",g=c&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",M=typeof Object.create=="function",E={__proto__:[]}instanceof Array,_=!M&&!E,k={create:M?function(){return X(Object.create(null))}:E?function(){return X({__proto__:null})}:function(){return X({})},has:_?function(t,e){return s.call(t,e)}:function(t,e){return e in t},get:_?function(t,e){return s.call(t,e)?t[e]:void 0}:function(t,e){return t[e]}},Z=Object.getPrototypeOf(Function),W=typeof process=="object"&&process.env&&process.env.REFLECT_METADATA_USE_MAP_POLYFILL==="true",V=!W&&typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:qt(),vt=!W&&typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:Gt(),gt=!W&&typeof WeakMap=="function"?WeakMap:$t(),G=new gt;function _t(t,e,r,n){if(m(r)){if(!ot(t))throw new TypeError;if(!it(e))throw new TypeError;return Lt(t,e)}else{if(!ot(t))throw new TypeError;if(!y(e))throw new TypeError;if(!y(n)&&!m(n)&&!B(n))throw new TypeError;return B(n)&&(n=void 0),r=O(r),Pt(t,e,r,n)}}o("decorate",_t);function wt(t,e){function r(n,i){if(!y(n))throw new TypeError;if(!m(i)&&!Ut(i))throw new TypeError;tt(t,e,n,i)}return r}o("metadata",wt);function Mt(t,e,r,n){if(!y(r))throw new TypeError;return m(n)||(n=O(n)),tt(t,e,r,n)}o("defineMetadata",Mt);function bt(t,e,r){if(!y(e))throw new TypeError;return m(r)||(r=O(r)),z(t,e,r)}o("hasMetadata",bt);function Et(t,e,r){if(!y(e))throw new TypeError;return m(r)||(r=O(r)),N(t,e,r)}o("hasOwnMetadata",Et);function Tt(t,e,r){if(!y(e))throw new TypeError;return m(r)||(r=O(r)),Q(t,e,r)}o("getMetadata",Tt);function kt(t,e,r){if(!y(e))throw new TypeError;return m(r)||(r=O(r)),K(t,e,r)}o("getOwnMetadata",kt);function Ot(t,e){if(!y(t))throw new TypeError;return m(e)||(e=O(e)),et(t,e)}o("getMetadataKeys",Ot);function St(t,e){if(!y(t))throw new TypeError;return m(e)||(e=O(e)),rt(t,e)}o("getOwnMetadataKeys",St);function xt(t,e,r){if(!y(e))throw new TypeError;m(r)||(r=O(r));var n=A(e,r,!1);if(m(n)||!n.delete(t))return!1;if(n.size>0)return!0;var i=G.get(e);return i.delete(r),i.size>0||G.delete(e),!0}o("deleteMetadata",xt);function Lt(t,e){for(var r=t.length-1;r>=0;--r){var n=t[r],i=n(e);if(!m(i)&&!B(i)){if(!it(i))throw new TypeError;e=i}}return e}function Pt(t,e,r,n){for(var i=t.length-1;i>=0;--i){var v=t[i],f=v(e,r,n);if(!m(f)&&!B(f)){if(!y(f))throw new TypeError;n=f}}return n}function A(t,e,r){var n=G.get(t);if(m(n)){if(!r)return;n=new V,G.set(t,n)}var i=n.get(e);if(m(i)){if(!r)return;i=new V,n.set(e,i)}return i}function z(t,e,r){var n=N(t,e,r);if(n)return!0;var i=J(e);return B(i)?!1:z(t,i,r)}function N(t,e,r){var n=A(e,r,!1);return m(n)?!1:Ct(n.has(t))}function Q(t,e,r){var n=N(t,e,r);if(n)return K(t,e,r);var i=J(e);if(!B(i))return Q(t,i,r)}function K(t,e,r){var n=A(e,r,!1);if(!m(n))return n.get(t)}function tt(t,e,r,n){var i=A(r,n,!0);i.set(t,e)}function et(t,e){var r=rt(t,e),n=J(t);if(n===null)return r;var i=et(n,e);if(i.length<=0)return r;if(r.length<=0)return i;for(var v=new vt,f=[],l=0,a=r;l<a.length;l++){var p=a[l],d=v.has(p);d||(v.add(p),f.push(p))}for(var x=0,ut=i;x<ut.length;x++){var p=ut[x],d=v.has(p);d||(v.add(p),f.push(p))}return f}function rt(t,e){var r=[],n=A(t,e,!1);if(m(n))return r;for(var i=n.keys(),v=At(i),f=0;;){var l=jt(v);if(!l)return r.length=f,r;var a=Dt(l);try{r[f]=a}catch(p){try{Rt(v)}finally{throw p}}f++}}function nt(t){if(t===null)return 1;switch(typeof t){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return t===null?1:6;default:return 6}}function m(t){return t===void 0}function B(t){return t===null}function Ft(t){return typeof t=="symbol"}function y(t){return typeof t=="object"?t!==null:typeof t=="function"}function It(t,e){switch(nt(t)){case 0:return t;case 1:return t;case 2:return t;case 3:return t;case 4:return t;case 5:return t}var r=e===3?"string":e===5?"number":"default",n=at(t,h);if(n!==void 0){var i=n.call(t,r);if(y(i))throw new TypeError;return i}return Bt(t,r==="default"?"number":r)}function Bt(t,e){if(e==="string"){var r=t.toString;if(C(r)){var n=r.call(t);if(!y(n))return n}var i=t.valueOf;if(C(i)){var n=i.call(t);if(!y(n))return n}}else{var i=t.valueOf;if(C(i)){var n=i.call(t);if(!y(n))return n}var v=t.toString;if(C(v)){var n=v.call(t);if(!y(n))return n}}throw new TypeError}function Ct(t){return!!t}function Ht(t){return""+t}function O(t){var e=It(t,3);return Ft(e)?e:Ht(e)}function ot(t){return Array.isArray?Array.isArray(t):t instanceof Object?t instanceof Array:Object.prototype.toString.call(t)==="[object Array]"}function C(t){return typeof t=="function"}function it(t){return typeof t=="function"}function Ut(t){switch(nt(t)){case 3:return!0;case 4:return!0;default:return!1}}function at(t,e){var r=t[e];if(r!=null){if(!C(r))throw new TypeError;return r}}function At(t){var e=at(t,g);if(!C(e))throw new TypeError;var r=e.call(t);if(!y(r))throw new TypeError;return r}function Dt(t){return t.value}function jt(t){var e=t.next();return e.done?!1:e}function Rt(t){var e=t.return;e&&e.call(t)}function J(t){var e=Object.getPrototypeOf(t);if(typeof t!="function"||t===Z||e!==Z)return e;var r=t.prototype,n=r&&Object.getPrototypeOf(r);if(n==null||n===Object.prototype)return e;var i=n.constructor;return typeof i!="function"||i===t?e:i}function qt(){var t={},e=[],r=function(){function f(l,a,p){this._index=0,this._keys=l,this._values=a,this._selector=p}return f.prototype["@@iterator"]=function(){return this},f.prototype[g]=function(){return this},f.prototype.next=function(){var l=this._index;if(l>=0&&l<this._keys.length){var a=this._selector(this._keys[l],this._values[l]);return l+1>=this._keys.length?(this._index=-1,this._keys=e,this._values=e):this._index++,{value:a,done:!1}}return{value:void 0,done:!0}},f.prototype.throw=function(l){throw this._index>=0&&(this._index=-1,this._keys=e,this._values=e),l},f.prototype.return=function(l){return this._index>=0&&(this._index=-1,this._keys=e,this._values=e),{value:l,done:!0}},f}();return function(){function f(){this._keys=[],this._values=[],this._cacheKey=t,this._cacheIndex=-2}return Object.defineProperty(f.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),f.prototype.has=function(l){return this._find(l,!1)>=0},f.prototype.get=function(l){var a=this._find(l,!1);return a>=0?this._values[a]:void 0},f.prototype.set=function(l,a){var p=this._find(l,!0);return this._values[p]=a,this},f.prototype.delete=function(l){var a=this._find(l,!1);if(a>=0){for(var p=this._keys.length,d=a+1;d<p;d++)this._keys[d-1]=this._keys[d],this._values[d-1]=this._values[d];return this._keys.length--,this._values.length--,l===this._cacheKey&&(this._cacheKey=t,this._cacheIndex=-2),!0}return!1},f.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=t,this._cacheIndex=-2},f.prototype.keys=function(){return new r(this._keys,this._values,n)},f.prototype.values=function(){return new r(this._keys,this._values,i)},f.prototype.entries=function(){return new r(this._keys,this._values,v)},f.prototype["@@iterator"]=function(){return this.entries()},f.prototype[g]=function(){return this.entries()},f.prototype._find=function(l,a){return this._cacheKey!==l&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=l)),this._cacheIndex<0&&a&&(this._cacheIndex=this._keys.length,this._keys.push(l),this._values.push(void 0)),this._cacheIndex},f}();function n(f,l){return f}function i(f,l){return l}function v(f,l){return[f,l]}}function Gt(){return function(){function t(){this._map=new V}return Object.defineProperty(t.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._map.has(e)},t.prototype.add=function(e){return this._map.set(e,e),this},t.prototype.delete=function(e){return this._map.delete(e)},t.prototype.clear=function(){this._map.clear()},t.prototype.keys=function(){return this._map.keys()},t.prototype.values=function(){return this._map.values()},t.prototype.entries=function(){return this._map.entries()},t.prototype["@@iterator"]=function(){return this.keys()},t.prototype[g]=function(){return this.keys()},t}()}function $t(){var t=16,e=k.create(),r=n();return function(){function a(){this._key=n()}return a.prototype.has=function(p){var d=i(p,!1);return d!==void 0?k.has(d,this._key):!1},a.prototype.get=function(p){var d=i(p,!1);return d!==void 0?k.get(d,this._key):void 0},a.prototype.set=function(p,d){var x=i(p,!0);return x[this._key]=d,this},a.prototype.delete=function(p){var d=i(p,!1);return d!==void 0?delete d[this._key]:!1},a.prototype.clear=function(){this._key=n()},a}();function n(){var a;do a="@@WeakMap@@"+l();while(k.has(e,a));return e[a]=!0,a}function i(a,p){if(!s.call(a,r)){if(!p)return;Object.defineProperty(a,r,{value:k.create()})}return a[r]}function v(a,p){for(var d=0;d<p;++d)a[d]=Math.random()*255|0;return a}function f(a){return typeof Uint8Array=="function"?typeof crypto<"u"?crypto.getRandomValues(new Uint8Array(a)):typeof msCrypto<"u"?msCrypto.getRandomValues(new Uint8Array(a)):v(new Uint8Array(a),a):v(new Array(a),a)}function l(){var a=f(t);a[6]=a[6]&79|64,a[8]=a[8]&191|128;for(var p="",d=0;d<t;++d){var x=a[d];(d===4||d===6||d===8)&&(p+="-"),x<16&&(p+="0"),p+=x.toString(16).toLowerCase()}return p}}function X(t){return t.__=void 0,delete t.__,t}})})(st||(st={}));function P(u){for(let o of Object.getOwnPropertyNames(u.prototype)){let s=Reflect.getMetadata("eventType",u.prototype,o),c=Reflect.getMetadata("listener",u.prototype,o);if(s&&c){let h=u.prototype[o]();h&&h.addEventListener(s,c)}}}function F(u,o){return function(s,c){Reflect.defineMetadata("eventType",u,s,c),Reflect.defineMetadata("listener",o,s,c)}}var b=class{static getForm(){return document.querySelector(".form")}static getProfileMenu(){return document.querySelector(".header__profile-menu")}static getOverlay(){return document.querySelector(".overlay")}},I=class{static getLoginButton(){return document.querySelector(".btn-login")}static getSignupButton(){return document.querySelector(".btn-signup")}static getLogoutButton(){return document.querySelector(".btn-logout")}},T=class{static getUsernameField(){return document.querySelector(".input__username")}static getPasswordField(){return document.querySelector(".input__password")}static getConfirmPasswordField(){return document.querySelector(".input__confirm-password")}static getCreditCardField(){return document.querySelector(".input__credit-card-no")}};function H(u){let o="0",s="hidden",c=b.getForm(),h=b.getOverlay();u&&(o="1",s="visible"),[c,h].forEach(g=>{g.style.visibility=s,g.style.opacity=o})}function Y(u){let o=T.getCreditCardField(),s=T.getConfirmPasswordField();[o,s].forEach(c=>{u?c.style.display="block":c.style.display="none"})}var S={authButton:null};function ft(u){let o=u.target;(o.closest(".btn-login")||o.closest(".btn-signup"))&&H(!0),o.closest(".btn-login")?(S.authButton="login",Y(!1)):o.closest(".btn-signup")&&(S.authButton="signup",Y(!0))}var D=class{getAuthContainer(){return b.getProfileMenu()}};w([F("click",ft)],D.prototype,"getAuthContainer",1),D=w([P],D);function $(u){let o=I.getLogoutButton(),s=I.getLoginButton(),c=I.getSignupButton();u?o.style.display="block":o.style.display="none",[s,c].forEach(h=>{u?h.style.display="none":h.style.display="block"})}function lt(){let u=T.getUsernameField().value,o=T.getPasswordField().value,s=T.getConfirmPasswordField().value,c=+T.getCreditCardField().value;if(S.authButton==="login")return{username:u,password1:o};if(S.authButton="signup")return{username:u,password1:o,password2:s,credit_card_no:c}}function ct(){let u=`${"http://127.0.0.1:8000/"}${"api/v1/auth/"}`;if(S.authButton==="login")return`${u}${"login"}`;if(S.authButton==="signup")return`${u}${"signup"}`}function pt(u){let o=null;if(document.cookie&&document.cookie!==""){let s=document.cookie.split(";");for(let c=0;c<s.length;c++){let h=s[c].trim();if(h.substring(0,u.length+1)===u+"="){o=decodeURIComponent(h.substring(u.length+1));break}}}return o}var U=class{static httpFetch(o,s,c){return L(this,null,function*(){return yield fetch(s,{method:o,headers:{"Content-Type":"application/json","X-CSRFToken":pt("csrftoken")},body:JSON.stringify(c)})})}static get(o){return L(this,null,function*(){return yield this.httpFetch("GET",o)})}static post(o,s){return L(this,null,function*(){return yield this.httpFetch("POST",o,s)})}};function dt(u){let o=document.querySelector(".message");o.style.visibility="visible",o.style.opacity="1",o.textContent=u,setTimeout(function(){o.style.visibility="hidden",o.style.opacity="0"},5e3)}function ht(u){return L(this,null,function*(){u.preventDefault();let o=yield U.post(ct(),lt()),s=yield o.json();o.status==400?dt(s):(H(!1),$(!0))})}var j=class{getForm(){return b.getForm()}};w([F("submit",ht)],j.prototype,"getForm",1),j=w([P],j);function mt(){return L(this,null,function*(){yield U.post(`${"http://127.0.0.1:8000/"}${"api/v1/auth/"}${"logout"}`),$(!1)})}var R=class{getLogoutButton(){return I.getLogoutButton()}};w([F("click",mt)],R.prototype,"getLogoutButton",1),R=w([P],R);function yt(){H(!1)}var q=class{getOverlay(){return b.getOverlay()}};w([F("click",yt)],q.prototype,"getOverlay",1),q=w([P],q);})();
/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
